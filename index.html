<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Pegada de Carbono - FAFIRE ODS 11</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            color: #1b5e20;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #1b5e20 0%, #2e7d32 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .logo-section {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: white;
        }

        .ods-badge {
            background: #f57c00;
            padding: 15px 25px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .recycle-icon {
            font-size: 48px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            font-style: italic;
            opacity: 0.95;
        }

        .intro-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .intro-section h2 {
            color: #2e7d32;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .intro-section p {
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .highlight {
            background: #fff3e0;
            padding: 20px;
            border-left: 5px solid #f57c00;
            border-radius: 5px;
            margin: 20px 0;
        }

        .calculator-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .calculator-section h2 {
            color: #2e7d32;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-align: center;
        }

        .map-section {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .map-section h3 {
            color: #2e7d32;
            margin-bottom: 15px;
        }

        .route-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        #map {
            width: 100%;
            height: 400px;
            border-radius: 10px;
            margin-top: 15px;
            border: 2px solid #2e7d32;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #1b5e20;
        }

        input[type="text"],
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #c8e6c9;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus {
            outline: none;
            border-color: #2e7d32;
        }

        .transport-grid {
            display: grid;
            gap: 20px;
            margin-top: 20px;
        }

        .transport-item {
            background: #f1f8f4;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #c8e6c9;
            transition: all 0.3s;
        }

        .transport-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: #2e7d32;
        }

        .transport-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .transport-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #1b5e20;
        }

        .emission-factor {
            background: #fff3e0;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            color: #f57c00;
        }

        .transport-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btn {
            background: linear-gradient(135deg, #2e7d32 0%, #43a047 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-top: 20px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .results-section {
            background: linear-gradient(135deg, #1b5e20 0%, #2e7d32 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            display: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .results-section.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .results-section h2 {
            text-align: center;
            margin-bottom: 25px;
            font-size: 2em;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .result-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .result-label {
            font-size: 1em;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .result-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .result-unit {
            font-size: 1.2em;
            opacity: 0.8;
        }

        .breakdown {
            background: rgba(255,255,255,0.95);
            color: #1b5e20;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .breakdown h3 {
            margin-bottom: 15px;
            color: #2e7d32;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            margin-bottom: 10px;
            background: #f1f8f4;
            border-radius: 5px;
        }

        .reflection-section {
            background: #fff3e0;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .reflection-section h3 {
            color: #f57c00;
            margin-bottom: 15px;
        }

        .reflection-question {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #f57c00;
        }

        .comparison-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            color: #1b5e20;
        }

        .comparison-section h3 {
            color: #2e7d32;
            margin-bottom: 15px;
        }

        .comparison-item {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            background: #f1f8f4;
        }

        footer {
            background: #1b5e20;
            color: white;
            padding: 30px 20px;
            text-align: center;
            border-radius: 15px;
            margin-top: 30px;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-links {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .route-inputs {
                grid-template-columns: 1fr;
            }

            .transport-inputs {
                grid-template-columns: 1fr;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }

            #map {
                height: 300px;
            }
        }

        .info-box {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #2196f3;
        }

        .warning-box {
            background: #fff3e0;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #f57c00;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-section">
                <div class="logo">üå≥ UNIFAFIRE</div>
                <div class="ods-badge">
                    <span class="recycle-icon">‚ôªÔ∏è</span>
                    <div>
                        <strong>ODS 11</strong><br>
                        <small>Cidades Sustent√°veis</small>
                    </div>
                </div>
            </div>
            <h1>Calculadora de Pegada de Carbono</h1>
            <p class="subtitle">Construindo hoje o futuro das nossas cidades</p>
        </header>

        <div class="intro-section">
            <h2>üåç Por que calcular sua pegada de carbono?</h2>
            <p>
                As cidades s√£o respons√°veis por cerca de <strong>70% das emiss√µes globais de carbono</strong>. 
                O transporte √© um dos principais contribuintes para essas emiss√µes, e cada escolha que fazemos 
                no nosso deslocamento di√°rio impacta diretamente a qualidade do ar e o clima urbano.
            </p>
            <div class="highlight">
                <strong>üí° Voc√™ sabia?</strong> Trocar o carro individual por transporte p√∫blico ou bicicleta 
                pode reduzir suas emiss√µes em at√© 50%! Pequenas mudan√ßas fazem grande diferen√ßa.
            </div>
        </div>

        <div class="calculator-section">
            <h2>üìä Calcule sua Pegada de Carbono</h2>
            
            <div class="map-section">
                <h3>üó∫Ô∏è Visualize seu Trajeto</h3>
                <div class="info-box">
                    <strong>Dica:</strong> Digite seu endere√ßo de origem e destino para ver a rota no mapa. 
                    As dist√¢ncias ser√£o calculadas automaticamente para cada modal de transporte.
                </div>
                <div class="route-inputs">
                    <div class="input-group">
                        <label for="origin">üìç Origem (endere√ßo completo):</label>
                        <input type="text" id="origin" placeholder="Ex: Rua da Aurora, 463, Recife">
                    </div>
                    <div class="input-group">
                        <label for="destination">üéØ Destino (endere√ßo completo):</label>
                        <input type="text" id="destination" placeholder="Ex: UNIFAFIRE, Recife">
                    </div>
                </div>
                <button class="btn" onclick="calculateRoute()">üîç Calcular Rota e Comparar Modais</button>
                <!-- <div id="map"></div> -->
                <div id="route-info" style="margin-top: 15px;"></div>
            </div>

            <div class="warning-box">
                <strong>‚ö†Ô∏è Importante:</strong> Preencha a dist√¢ncia e o n√∫mero de viagens semanais para cada 
                meio de transporte que voc√™ utiliza. Se n√£o usar algum modal, deixe os campos zerados.
            </div>

            <div class="transport-grid">
                <!-- Carro Individual -->
                <div class="transport-item">
                    <div class="transport-header">
                        <span class="transport-name">üöó Carro (individual)</span>
                        <span class="emission-factor">0.12 kg CO‚ÇÇ/km</span>
                    </div>
                    <div class="transport-inputs">
                        <div class="input-group">
                            <label>Dist√¢ncia por viagem (km):</label>
                            <input type="number" id="carro-dist" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label>Viagens por semana:</label>
                            <input type="number" id="carro-viagens" min="0" step="1" value="0">
                        </div>
                    </div>
                </div>

                <!-- Carona -->
                <div class="transport-item">
                    <div class="transport-header">
                        <span class="transport-name">üöóüë• Carro (carona)</span>
                        <span class="emission-factor">0.06 kg CO‚ÇÇ/km</span>
                    </div>
                    <div class="transport-inputs">
                        <div class="input-group">
                            <label>Dist√¢ncia por viagem (km):</label>
                            <input type="number" id="carona-dist" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label>Viagens por semana:</label>
                            <input type="number" id="carona-viagens" min="0" step="1" value="0">
                        </div>
                    </div>
                </div>

                <!-- Moto -->
                <div class="transport-item">
                    <div class="transport-header">
                        <span class="transport-name">üèçÔ∏è Moto</span>
                        <span class="emission-factor">0.10 kg CO‚ÇÇ/km</span>
                    </div>
                    <div class="transport-inputs">
                        <div class="input-group">
                            <label>Dist√¢ncia por viagem (km):</label>
                            <input type="number" id="moto-dist" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label>Viagens por semana:</label>
                            <input type="number" id="moto-viagens" min="0" step="1" value="0">
                        </div>
                    </div>
                </div>

                <!-- √înibus -->
                <div class="transport-item">
                    <div class="transport-header">
                        <span class="transport-name">üöå √înibus</span>
                        <span class="emission-factor">0.082 kg CO‚ÇÇ/km</span>
                    </div>
                    <div class="transport-inputs">
                        <div class="input-group">
                            <label>Dist√¢ncia por viagem (km):</label>
                            <input type="number" id="onibus-dist" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label>Viagens por semana:</label>
                            <input type="number" id="onibus-viagens" min="0" step="1" value="0">
                        </div>
                    </div>
                </div>

                <!-- Metr√¥ -->
                <div class="transport-item">
                    <div class="transport-header">
                        <span class="transport-name">üöá Metr√¥/Trem</span>
                        <span class="emission-factor">0.041 kg CO‚ÇÇ/km</span>
                    </div>
                    <div class="transport-inputs">
                        <div class="input-group">
                            <label>Dist√¢ncia por viagem (km):</label>
                            <input type="number" id="metro-dist" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label>Viagens por semana:</label>
                            <input type="number" id="metro-viagens" min="0" step="1" value="0">
                        </div>
                    </div>
                </div>

                <!-- Bicicleta -->
                <div class="transport-item">
                    <div class="transport-header">
                        <span class="transport-name">üö¥ Bicicleta</span>
                        <span class="emission-factor">0.00 kg CO‚ÇÇ/km</span>
                    </div>
                    <div class="transport-inputs">
                        <div class="input-group">
                            <label>Dist√¢ncia por viagem (km):</label>
                            <input type="number" id="bike-dist" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label>Viagens por semana:</label>
                            <input type="number" id="bike-viagens" min="0" step="1" value="0">
                        </div>
                    </div>
                </div>

                <!-- Caminhada -->
                <div class="transport-item">
                    <div class="transport-header">
                        <span class="transport-name">üö∂ Caminhada</span>
                        <span class="emission-factor">0.00 kg CO‚ÇÇ/km</span>
                    </div>
                    <div class="transport-inputs">
                        <div class="input-group">
                            <label>Dist√¢ncia por viagem (km):</label>
                            <input type="number" id="caminhada-dist" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label>Viagens por semana:</label>
                            <input type="number" id="caminhada-viagens" min="0" step="1" value="0">
                        </div>
                    </div>
                </div>
            </div>

            <button class="btn" onclick="calculateEmissions()">üå± Calcular Minha Pegada</button>
        </div>

        <div class="results-section" id="results">
            <h2>üìà Seus Resultados</h2>
            
            <div class="results-grid">
                <div class="result-card">
                    <div class="result-label">Emiss√£o Semanal</div>
                    <div class="result-value" id="weekly-result">0</div>
                    <div class="result-unit">kg CO‚ÇÇ</div>
                </div>
                <div class="result-card">
                    <div class="result-label">Emiss√£o Mensal</div>
                    <div class="result-value" id="monthly-result">0</div>
                    <div class="result-unit">kg CO‚ÇÇ</div>
                </div>
                <div class="result-card">
                    <div class="result-label">Emiss√£o Anual</div>
                    <div class="result-value" id="yearly-result">0</div>
                    <div class="result-unit">kg CO‚ÇÇ</div>
                </div>
            </div>

            <div class="breakdown">
                <h3>üìä Detalhamento por Modal de Transporte</h3>
                <div id="breakdown-list"></div>
            </div>

            <div class="comparison-section">
                <h3>üå≥ Para Compensar suas Emiss√µes</h3>
                <div id="compensation-info"></div>
            </div>

            <div class="reflection-section">
                <h3>üí≠ Reflex√£o sobre seus H√°bitos</h3>
                <div class="reflection-question">
                    <strong>1. Qual foi seu principal meio de transporte?</strong>
                    <p id="main-transport"></p>
                </div>
                <div class="reflection-question">
                    <strong>2. Existe uma alternativa mais sustent√°vel que voc√™ poderia adotar?</strong>
                    <p id="suggestion"></p>
                </div>
                <div class="reflection-question">
                    <strong>3. Qual mudan√ßa pr√°tica voc√™ se compromete a experimentar neste m√™s?</strong>
                    <p>Pense em uma a√ß√£o concreta, como usar o transporte p√∫blico 2x por semana ou fazer carona compartilhada.</p>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-content">
                <h3>üåç Juntos por Cidades Mais Sustent√°veis</h3>
                <p>
                    Este projeto faz parte da iniciativa ODS 11 - Cidades e Comunidades Sustent√°veis, 
                    desenvolvido pelo UNIFAFIRE em parceria com estudantes de Ci√™ncias Cont√°beis e Administra√ß√£o.
                </p>
                <p style="margin-top: 15px;">
                    <strong>Cada atitude conta!</strong> Conscientizar √© transformar.
                </p>
                <div class="footer-links">
                    <p>Prof. Fernando Barbosa de Melo | UNIFAFIRE - Recife, PE</p>
                    <p>Programa: Sustentabilidade e Impacto Ambiental na Sociedade Contempor√¢nea</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        let map;
        let directionsService;
        let directionsRenderer;
        let calculatedDistance = 0;

        function initMap() {
            // Coordenadas do Recife, PE como centro padr√£o
            const recife = { lat: -8.0476, lng: -34.8770 };
            
            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 12,
                center: recife,
                mapTypeControl: true,
                streetViewControl: false
            });

            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer({
                map: map,
                suppressMarkers: false
            });
        }

        function calculateRoute() {
            const origin = document.getElementById('origin').value;
            const destination = document.getElementById('destination').value;

            if (!origin || !destination) {
                alert('Por favor, preencha os endere√ßos de origem e destino.');
                return;
            }

            const request = {
                origin: origin,
                destination: destination,
                travelMode: 'DRIVING',
                provideRouteAlternatives: true
            };

            directionsService.route(request, function(result, status) {
                if (status === 'OK') {
                    directionsRenderer.setDirections(result);
                    
                    const route = result.routes[0];
                    const distance = route.legs[0].distance.value / 1000; // Converter para km
                    calculatedDistance = distance;

                    // Preencher automaticamente os campos de dist√¢ncia
                    fillDistanceFields(distance);

                    // Mostrar informa√ß√µes das rotas
                    showRouteComparison(distance);
                } else {
                    alert('N√£o foi poss√≠vel calcular a rota. Verifique os endere√ßos digitados. Erro: ' + status);
                }
            });
        }

        function fillDistanceFields(distance) {
            const roundedDistance = Math.round(distance * 10) / 10;
            
            // Preencher todos os campos de dist√¢ncia
            document.getElementById('carro-dist').value = roundedDistance;
            document.getElementById('carona-dist').value = roundedDistance;
            document.getElementById('moto-dist').value = roundedDistance;
            document.getElementById('onibus-dist').value = roundedDistance;
            document.getElementById('metro-dist').value = roundedDistance;
            document.getElementById('bike-dist').value = roundedDistance;
            document.getElementById('caminhada-dist').value = roundedDistance;
        }

        function showRouteComparison(distance) {
            const transports = [
                { name: 'üöó Carro (individual)', factor: 0.12, time: 1 },
                { name: 'üöóüë• Carro (carona)', factor: 0.06, time: 1 },
                { name: 'üèçÔ∏è Moto', factor: 0.10, time: 0.9 },
                { name: 'üöå √înibus', factor: 0.082, time: 1.5 },
                { name: 'üöá Metr√¥/Trem', factor: 0.041, time: 1.3 },
                { name: 'üö¥ Bicicleta', factor: 0, time: 3 },
                { name: 'üö∂ Caminhada', factor: 0, time: 12 }
            ];

            let html = '<div style="background: white; padding: 20px; border-radius: 10px; margin-top: 15px;">';
            html += '<h4 style="color: #2e7d32; margin-bottom: 15px;">üîÑ Compara√ß√£o de Modais para ' + distance.toFixed(1) + ' km:</h4>';
            
            transports.forEach(transport => {
                const emission = (distance * transport.factor).toFixed(2);
                const estimatedTime = (distance / 5 * transport.time * 60).toFixed(0); // Tempo estimado em minutos
                
                html += '<div class="comparison-item" style="margin-bottom: 10px;">';
                html += '<strong>' + transport.name + '</strong><br>';
                html += 'üìä Emiss√£o por viagem: <strong>' + emission + ' kg CO‚ÇÇ</strong><br>';
                html += '‚è±Ô∏è Tempo estimado: ~' + estimatedTime + ' min';
                html += '</div>';
            });
            
            html += '</div>';
            document.getElementById('route-info').innerHTML = html;
        }

        function calculateEmissions() {
            const transports = [
                { id: 'carro', name: 'Carro (individual)', icon: 'üöó', factor: 0.12 },
                { id: 'carona', name: 'Carro (carona)', icon: 'üöóüë•', factor: 0.06 },
                { id: 'moto', name: 'Moto', icon: 'üèçÔ∏è', factor: 0.10 },
                { id: 'onibus', name: '√înibus', icon: 'üöå', factor: 0.082 },
                { id: 'metro', name: 'Metr√¥/Trem', icon: 'üöá', factor: 0.041 },
                { id: 'bike', name: 'Bicicleta', icon: 'üö¥', factor: 0 },
                { id: 'caminhada', name: 'Caminhada', icon: 'üö∂', factor: 0 }
            ];

            let totalWeekly = 0;
            let breakdown = [];
            let maxEmission = { name: '', value: 0 };

            transports.forEach(transport => {
                const dist = parseFloat(document.getElementById(transport.id + '-dist').value) || 0;
                const trips = parseFloat(document.getElementById(transport.id + '-viagens').value) || 0;
                const totalKm = dist * trips;
                const emission = totalKm * transport.factor;

                if (emission > 0) {
                    totalWeekly += emission;
                    breakdown.push({
                        name: transport.name,
                        icon: transport.icon,
                        emission: emission,
                        km: totalKm
                    });

                    if (emission > maxEmission.value) {
                        maxEmission = { name: transport.name, value: emission };
                    }
                }
            });

            if (totalWeekly === 0) {
                alert('Por favor, preencha pelo menos um meio de transporte com dist√¢ncia e n√∫mero de viagens.');
                return;
            }

            // Calcular valores
            const totalMonthly = totalWeekly * 4;
            const totalYearly = totalWeekly * 52;

            // Mostrar resultados
            document.getElementById('weekly-result').textContent = totalWeekly.toFixed(2);
            document.getElementById('monthly-result').textContent = totalMonthly.toFixed(2);
            document.getElementById('yearly-result').textContent = totalYearly.toFixed(2);

            // Mostrar breakdown
            let breakdownHtml = '';
            breakdown.sort((a, b) => b.emission - a.emission);
            breakdown.forEach(item => {
                const percentage = ((item.emission / totalWeekly) * 100).toFixed(1);
                breakdownHtml += `
                    <div class="breakdown-item">
                        <span><strong>${item.icon} ${item.name}</strong><br>
                        ${item.km.toFixed(1)} km semanais</span>
                        <span><strong>${item.emission.toFixed(2)} kg CO‚ÇÇ</strong><br>
                        (${percentage}%)</span>
                    </div>
                `;
            });
            document.getElementById('breakdown-list').innerHTML = breakdownHtml;

            // Informa√ß√µes de compensa√ß√£o
            const trees = Math.ceil(totalYearly / 25); // Uma √°rvore absorve ~25kg CO‚ÇÇ/ano
            const forests = (totalYearly / 1000).toFixed(2); // √Årea de floresta necess√°ria
            
            let compensationHtml = `
                <div class="comparison-item">
                    <strong>üå≤ √Årvores necess√°rias:</strong> Voc√™ precisaria de aproximadamente 
                    <strong>${trees} √°rvores</strong> para compensar suas emiss√µes anuais de ${totalYearly.toFixed(2)} kg CO‚ÇÇ.
                </div>
                <div class="comparison-item">
                    <strong>üìä Equival√™ncia:</strong> Suas emiss√µes anuais equivalem a 
                    <strong>${(totalYearly / 2300).toFixed(2)} toneladas</strong> de CO‚ÇÇ, 
                    aproximando-se das emiss√µes de ${(totalYearly / 100).toFixed(1)} voos dom√©sticos curtos.
                </div>
            `;
            document.getElementById('compensation-info').innerHTML = compensationHtml;

            // Reflex√µes
            document.getElementById('main-transport').textContent = maxEmission.name + 
                ' (respons√°vel por ' + ((maxEmission.value / totalWeekly) * 100).toFixed(1) + '% das suas emiss√µes)';

            // Sugest√µes
            let suggestion = '';
            if (maxEmission.name.includes('Carro (individual)')) {
                suggestion = '‚úÖ Considere fazer carona compartilhada! Voc√™ pode reduzir suas emiss√µes pela metade. ' +
                            'Outra op√ß√£o √© usar transporte p√∫blico quando poss√≠vel.';
            } else if (maxEmission.name.includes('Moto')) {
                suggestion = '‚úÖ Para trajetos curtos, considere usar bicicleta ou ir a p√©. ' +
                            'Para trajetos mais longos, o transporte p√∫blico √© uma √≥tima op√ß√£o.';
            } else if (maxEmission.name.includes('√înibus')) {
                suggestion = '‚úÖ Excelente escolha! O √¥nibus j√° √© uma op√ß√£o sustent√°vel. ' +
                            'Se dispon√≠vel, o metr√¥ tem emiss√µes ainda menores. Para trajetos curtos, considere bicicleta.';
            } else {
                suggestion = '‚úÖ Parab√©ns! Voc√™ j√° est√° fazendo escolhas sustent√°veis. ' +
                            'Continue assim e inspire outras pessoas!';
            }
            document.getElementById('suggestion').textContent = suggestion;

            // Mostrar se√ß√£o de resultados
            document.getElementById('results').classList.add('show');
            
            // Scroll suave at√© os resultados
            document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Inicializar o mapa quando a p√°gina carregar
        window.onload = function() {
            // O mapa ser√° inicializado pelo callback da API do Google Maps
        };
    </script>

    <!-- IMPORTANTE: Substitua YOUR_API_KEY pela sua chave da API do Google Maps -->
    <!-- Para obter uma chave: https://developers.google.com/maps/documentation/javascript/get-api-key -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap&libraries=places" async defer></script>
</body>
</html>
